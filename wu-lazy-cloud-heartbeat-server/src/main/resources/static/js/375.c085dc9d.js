"use strict";(self.webpackChunkwu_lazy_cloud_network=self.webpackChunkwu_lazy_cloud_network||[]).push([[375],{63375:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var n=t(83986),u=t(35145),l=t(93540),o=t(66252),a=t(2262);const i={__name:"ServerVisitorEdit",props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null}},emits:["closeDialog"],setup:function(e,r){var t=r.emit,i={projectId:[{required:!0,message:"请输入选择项目",trigger:"blur"}],schemaName:[{required:!0,message:"请输入选择数据库",trigger:"blur"}],applicationName:[{required:!0,message:"请输入应用名",trigger:"blur"}]},c=e,s=t,d=(0,a.BK)(c),f=d.title,p=d.rowData,m=function(){s("closeDialog",!1)},v=(0,a.iH)(null),w=(0,a.qj)({visitorPort:"",describe:""}),b=(0,a.BK)(w),k=b.visitorPort,_=b.describe;p.value&&(k.value=p.value.visitorPort,_.value=p.value.describe);return(0,o.bv)((0,l.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),function(r,t){var c=(0,o.up)("el-input"),s=(0,o.up)("el-form-item"),d=(0,o.up)("el-form"),b=(0,o.up)("el-button"),g=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(g,{title:(0,a.SU)(f),"append-to-body":"","destroy-on-close":"","model-value":e.showDialog,onClose:t[4]||(t[4]=function(e){return m()})},{footer:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(b,{onClick:t[2]||(t[2]=function(e){return m()})},{default:(0,o.w5)((function(){return[(0,o.Uk)("取消")]})),_:1}),(0,o.Wm)(b,{type:"primary",onClick:t[3]||(t[3]=function(e){v.value.validate(function(){var e=(0,l.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=14;break}if("添加"!==f.value){e.next=7;break}return e.next=4,VE_API.cloudNetwork.visitorSave(w);case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,VE_API.cloudNetwork.visitorUpdate((0,u.Z)({visitorPort:p.value.visitorPort},w));case 9:t=e.sent;case 10:0===t.code&&m(),e.next=16;break;case 14:return console.log("error submit!!"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())})},{default:(0,o.w5)((function(){return[(0,o.Uk)("确定")]})),_:1})])]})),default:(0,o.w5)((function(){return[(0,o.Wm)(d,{model:w,ref_key:"formRef",ref:v,rules:i,"label-width":"80px",inline:!1},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{label:"访客端口",prop:"visitorPort"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{modelValue:(0,a.SU)(k),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.dq)(k)?k.value=e:null}),placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(s,{label:"描述",prop:"describe"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{modelValue:(0,a.SU)(_),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,a.dq)(_)?_.value=e:null}),placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["title","model-value"])}}}}}]);